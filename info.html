<html>
<head>
<script>
function main() {
	const p=document.getElementById('p')
	p.innerText="JS ready"
	let h=''
	let ps=''
	ps='userAgent appVersion appName appCodeName vendor platform oscpu deviceMemory language maxTouchPoints'
	for(const p of ps.split(' ')) h+=p+': '+window.navigator[p]+'\n'
	ps='innerWidth innerHeight outerWidth outerHeight devicePixelRatio'
	for(const p of ps.split(' ')) h+=p+': '+window[p]+' ; '
	h+='\n'
	ps='width height availWidth availHeight pixelDepth colorDepth'
	for(const p of ps.split(' ')) h+=p+': '+window.screen[p]+' ; '
	h+='\n'
	ps='geolocation serviceWorker storage'
	for(const p of ps.split(' ')) h+=p+': '+window.navigator[p]+'\n'
	ps='indexedDB localStorage sessionStorage'
	for(const p of ps.split(' ')) h+=p+': '+window[p]+'\n'
	p.innerText=h
	const g=document.getElementById('g')
	if(navigator.geolocation) {
		navigator.geolocation.getCurrentPosition((pos)=>{
			let gh=pos.coords.latitude+' x '+pos.coords.longitude+' ; '+pos.coords.accuracy
			gh+='\n'
			gh+='alt: '+(pos.coords.altitude?pos.coords.altitude+' ; '+pos.coords.altitudeAccuracy:'none')
			g.innerText=gh
		}, ()=>{g.innerText='Failed to call getCurrentPosition'})
	}
}
</script>
</head>
<body onload="main()">
<pre id="g">no geo</pre>
<pre id="p"></pre>
</body>
</html>
